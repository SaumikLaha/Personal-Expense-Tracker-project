<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ðŸ’° Personal Expense Tracker</title>

  <!-- Bootstrap 5 CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" crossorigin="anonymous" />

  <!-- Custom CSS -->
  <link rel="stylesheet" href="css/style.css">

  <meta name="description" content="Simple Personal Expense Tracker - add, view, delete expenses; stored in localStorage; filters and summary." />
</head>

<body class="custom-bg">

  <!-- Navbar -->
  <nav class="navbar navbar-expand-lg navbar-dark bg-primary shadow-sm py-3">
    <div class="container justify-content-center">
      <a class="navbar-brand fs-4 fw-semibold text-center" href="#">ðŸ’° Personal Expense Tracker</a>
    </div>
  </nav>

  <!-- Main -->
  <main class="container my-4">
    <div class="row g-4 justify-content-center">

      <!-- Add Expense Section -->
      <section class="col-12 col-lg-4">
        <div class="card shadow-sm">
          <div class="card-header d-flex justify-content-between align-items-center">
            <h6 class="mb-0">Add Expense</h6>
            <small class="text-muted">All fields required</small>
          </div>
          <div class="card-body">
            <form id="expense-form" novalidate>
              <div class="mb-3">
                <label for="expense-date" class="form-label">Date</label>
                <input type="date" id="expense-date" class="form-control" required />
              </div>

              <div class="mb-3">
                <label for="expense-category" class="form-label">Category</label>
                <select id="expense-category" class="form-select" required>
                  <option value="">Choose category</option>
                  <option>Food</option>
                  <option>Transport</option>
                  <option>Shopping</option>
                  <option>Entertainment</option>
                  <option>Bills</option>
                  <option>Education</option>
                  <option>Health</option>
                  <option>Other</option>
                </select>
              </div>

              <div class="mb-3">
                <label for="expense-desc" class="form-label">Description</label>
                <input type="text" id="expense-desc" class="form-control" placeholder="e.g., lunch at cafe" maxlength="120" required />
              </div>

              <div class="mb-3">
                <label for="expense-amount" class="form-label">Amount (â‚¹)</label>
                <input type="number" id="expense-amount" class="form-control" placeholder="0.00" min="0.01" step="0.01" required />
              </div>

              <div class="d-grid gap-2">
                <button type="submit" class="btn btn-primary" id="save-expense">
                  <i class="fa-solid fa-plus me-2"></i>Add Expense
                </button>
                <button type="button" id="clear-form" class="btn btn-outline-secondary">Clear</button>
              </div>
            </form>
          </div>
        </div>

        <!-- Quick Summary -->
        <div class="card mt-3 shadow-sm">
          <div class="card-body">
            <h6 class="card-title mb-2">Quick Summary</h6>
            <div class="d-flex justify-content-between">
              <div>
                <div class="text-muted small">Total Expenses</div>
                <div id="total-expenses" class="h5 mb-0">â‚¹0.00</div>
              </div>
              <div>
                <div class="text-muted small">Entries</div>
                <div id="count-expenses" class="h5 mb-0">0</div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Expenses Section -->
      <section class="col-12 col-lg-8">
        <div class="card shadow-sm">
          <div class="card-header">
            <div class="d-flex justify-content-between flex-wrap align-items-start">
              <div>
                <h6 class="mb-0">Expenses</h6>
                <small class="text-muted">View, filter & manage your expenses</small>
              </div>
              <div class="mt-2 mt-md-0">
                <button id="export-csv" class="btn btn-sm btn-outline-success me-2"><i class="fa-solid fa-file-csv me-1"></i>Export CSV</button>
                <button id="reset-all" class="btn btn-sm btn-outline-danger"><i class="fa-solid fa-trash-can me-1"></i>Clear All</button>
              </div>
            </div>
          </div>

          <div class="card-body">
            <!-- Filters -->
            <form id="filters" class="row g-2 align-items-end mb-3">
              <div class="col-12 col-md-4">
                <label class="form-label small">Date range</label>
                <div class="d-flex gap-2">
                  <input type="date" id="filter-from" class="form-control" />
                  <input type="date" id="filter-to" class="form-control" />
                </div>
              </div>

              <div class="col-12 col-md-3 mt-2">
  <label for="filter-category" class="form-label small">Category</label>
  <select id="filter-category" class="form-select">
    <option value="">All categories</option>
    <option>Food</option>
    <option>Transport</option>
    <option>Shopping</option>
    <option>Entertainment</option>
    <option>Bills</option>
    <option>Education</option>
    <option>Health</option>
    <option>Other</option>
  </select>
</div>

              <div class="col-12 col-md-3">
                <label class="form-label small">Amount range (â‚¹)</label>
                <div class="d-flex gap-2">
                  <input type="number" id="filter-min" class="form-control" placeholder="min" />
                  <input type="number" id="filter-max" class="form-control" placeholder="max" />
                </div>
              </div>

              <div class="col-12 col-md-2">
                <label for="filter-search" class="form-label small">Search</label>
                <input type="search" id="filter-search" class="form-control" placeholder="desc or amount" />
              </div>

              <div class="col-12 d-flex gap-2">
                <button type="button" id="apply-filters" class="btn btn-sm btn-primary">Apply</button>
                <button type="button" id="clear-filters" class="btn btn-sm btn-outline-secondary">Reset</button>
              </div>
            </form>

            <!-- Table -->
            <div class="table-responsive">
              <table class="table table-hover align-middle mb-0" id="expenses-table">
                <thead class="table-light">
                  <tr>
                    <th>Date</th>
                    <th>Category</th>
                    <th>Description</th>
                    <th class="text-end">Amount (â‚¹)</th>
                    <th class="text-center">Actions</th>
                  </tr>
                </thead>
                <tbody id="expenses-body"></tbody>
              </table>
            </div>

            <!-- Summary by category -->
            <div class="mt-4">
              <h6 class="mb-2">Summary by Category</h6>
              <div id="category-summary" class="row gy-2"></div>
            </div>
          </div>
        </div>
      </section>
    </div>
  </main>

  <!-- Footer -->
  <footer class="text-center py-3 text-white small footer-blue">
    Â© <span id="year"></span> Personal Expense Tracker â€¢ Designed by <strong>Saumik Laha</strong>
  </footer>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <!-- jQuery -->
  <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  <!-- App JS -->
  <script src="js/app.js"></script>

  <script>
    document.getElementById('year').textContent = new Date().getFullYear();
  </script>
</body>
</html>
